var S=Object.defineProperty;var C=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var N=(p,e,o)=>e in p?S(p,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):p[e]=o,k=(p,e)=>{for(var o in e||(e={}))I.call(e,o)&&N(p,o,e[o]);if(C)for(var o of C(e))M.call(e,o)&&N(p,o,e[o]);return p};import{b as P,a as R,s as z,x as H,A as Q,B as x}from"./element-plus@2.9.10_vue@3.5.14-e58ff881.js";import{_ as q}from"./index-d3432a72.js";import{v as A}from"./@vue_runtime-dom@3.5.14-7e661aa4.js";import{p as J,d as j}from"./role-88be7d52.js";import F from"./add-or-update-52025373.js";import{$ as u}from"./_t-d5227884.js";import{q as G,D as K,b as W,y as l}from"./@vue_reactivity@3.5.14-2213b677.js";import{g as X,a1 as Y,o as s,c as Z,a as g,i as m,I as i,M as v,J as f,H as b,L as ee,n as te}from"./@vue_runtime-core@3.5.14-81aa8ddd.js";import{U as n}from"./@vue_shared@3.5.14-94c2c668.js";import"./@vue-06e0889c.js";import"./lodash-es@4.17.21-e2bba480.js";import"./@vueuse_shared@9.13.0_vue@3.5.14-f0e16060.js";import"./@vueuse_core@9.13.0_vue@3.5.14-f98106e7.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.14-71698097.js";import"./@sxzz_popperjs-es@2.11.7-7c8154ca.js";import"./@ctrl_tinycolor@3.6.1-86a38320.js";import"./dayjs@1.11.13-c188735a.js";import"./@intlify_core-base@9.2.2-93f07292.js";import"./@intlify_message-compiler@9.2.2-228be59b.js";import"./@intlify_shared@9.2.2-29bf9385.js";import"./source-map@0.6.1-02de534d.js";import"./@intlify_devtools-if@9.2.2-22850edc.js";import"./async-validator@4.2.5-774c2804.js";import"./memoize-one@6.0.0-297ddbcb.js";import"./normalize-wheel-es@1.2.0-ed76fb12.js";import"./@floating-ui_dom@1.7.0-586b25a4.js";import"./@floating-ui_core@1.7.0-7ff28a0e.js";import"./@floating-ui_utils@0.2.9-746d277c.js";import"./index-6f2da097.js";import"./pinia@2.3.1_vue@3.5.14-4833dba6.js";import"./vue-demi@0.14.10_vue@3.5.14-71ba0ef2.js";import"./vue-router@4.5.1_vue@3.5.14-0f6ed4bc.js";import"./vue-i18n@9.2.2_vue@3.5.14-cf205787.js";import"./vue@3.5.14-dfc94670.js";import"./vue-cookies@1.8.3-f66fc855.js";import"./@element-plus_icons-vue@2.1.0_vue@3.5.14-0cb2d1d1.js";import"./axios@1.4.0-e76ab20a.js";import"./qs@6.11.2-13302ec8.js";import"./side-channel@1.1.0-f5737a48.js";import"./es-errors@1.3.0-c75f5a96.js";import"./object-inspect@1.13.4-95f40997.js";import"./crypto-js@4.1.1-4a4e7433.js";import"./side-channel-list@1.0.0-2bff8a80.js";import"./side-channel-map@1.0.1-ef12932d.js";import"./get-intrinsic@1.3.0-829e561c.js";import"./es-object-atoms@1.1.1-11ea1ab9.js";import"./math-intrinsics@1.1.0-9389030e.js";import"./gopd@1.2.0-f4eec54c.js";import"./es-define-property@1.0.1-88d30046.js";import"./has-symbols@1.1.0-1e41ff1e.js";import"./get-proto@1.0.1-a9f527cc.js";import"./dunder-proto@1.0.1-62f72dc7.js";import"./call-bind-apply-helpers@1.0.2-03b6ca7f.js";import"./function-bind@1.1.2-48f717dc.js";import"./hasown@2.0.2-f810df7c.js";import"./call-bound@1.0.4-15e4d619.js";import"./side-channel-weakmap@1.0.2-460ea971.js";import"./big.js@6.2.1-49ab783c.js";import"./dompurify@3.0.3-4985f3f0.js";import"./moment@2.29.4-4717c495.js";const ae={class:"page-rnac-role"},oe={class:"filter-container"},dt={__name:"index",setup(p){const e=G({pageQuery:{pageSize:10,pageNum:1},pageVO:{list:[],total:0,pages:0},pageLoading:!0,searchParam:{},addOrUpdateVisible:!1}),{pageQuery:o,pageVO:$,pageLoading:V,addOrUpdateVisible:O}=K(e);X(()=>{d()});const d=()=>{e.pageLoading=!0,J(k(k({},e.pageQuery),e.searchParam)).then(a=>{e.pageVO=a,e.pageLoading=!1})},T=W(),B=a=>{e.addOrUpdateVisible=!0,te(()=>{T.value.init(a)})},U=a=>{P.confirm(u("table.sureToDelete"),u("table.tips"),{confirmButtonText:u("table.confirm"),cancelButtonText:u("table.cancel"),type:"warning"}).then(()=>h(a))},h=a=>{j(a).then(()=>{R({message:u("table.actionSuccess"),type:"success",duration:1500,onClose:()=>d()})})};return(a,r)=>{const _=z,c=H,w=Q,D=q,y=Y("permission"),L=x;return s(),Z("div",ae,[g("div",oe,[m(_,{class:"filter-item",onClick:r[0]||(r[0]=t=>d())},{default:i(()=>[v(n(a.$t("table.search")),1)]),_:1}),f((s(),b(_,{type:"primary",class:"filter-item",onClick:r[1]||(r[1]=t=>B())},{default:i(()=>[v(n(a.$t("table.create")),1)]),_:1})),[[y,["rbac:role:save"]]])]),f((s(),b(w,{data:l($).list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:i(()=>[m(c,{label:a.$t("table.createTime"),prop:"createTime",align:"center"},{default:i(({row:t})=>[g("span",null,n(t.createTime),1)]),_:1},8,["label"]),m(c,{label:a.$t("table.updateTime"),prop:"updateTime",align:"center"},{default:i(({row:t})=>[g("span",null,n(t.updateTime),1)]),_:1},8,["label"]),m(c,{label:a.$t("rbac.role.roleName"),prop:"roleName",align:"center"},{default:i(({row:t})=>[g("span",null,n(t.roleName),1)]),_:1},8,["label"]),m(c,{label:a.$t("rbac.role.remark"),prop:"remark",align:"center"},{default:i(({row:t})=>[g("span",null,n(t.remark),1)]),_:1},8,["label"]),m(c,{label:a.$t("table.actions"),align:"center",width:"230","class-name":"small-padding fixed-width"},{default:i(({row:t})=>[f((s(),b(_,{type:"primary",link:"",onClick:E=>B(t.roleId)},{default:i(()=>[v(n(a.$t("table.edit")),1)]),_:2},1032,["onClick"])),[[y,["rbac:role:update"]]]),f((s(),b(_,{type:"primary",link:"",onClick:E=>U(t.roleId)},{default:i(()=>[v(n(a.$t("table.delete")),1)]),_:2},1032,["onClick"])),[[y,["rbac:role:delete"]]])]),_:1},8,["label"])]),_:1},8,["data"])),[[L,l(V)]]),f(m(D,{page:l(o).pageNum,"onUpdate:page":r[2]||(r[2]=t=>l(o).pageNum=t),limit:l(o).pageSize,"onUpdate:limit":r[3]||(r[3]=t=>l(o).pageSize=t),total:l($).total,onPagination:r[4]||(r[4]=t=>d())},null,8,["page","limit","total"]),[[A,l($).total>0]]),l(O)?(s(),b(F,{key:0,ref_key:"addOrUpdateRef",ref:T,onRefreshDataList:r[5]||(r[5]=t=>d())},null,512)):ee("",!0)])}}};export{dt as default};
