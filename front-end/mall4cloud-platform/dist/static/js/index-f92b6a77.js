var H=Object.defineProperty;var B=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var C=(s,e,l)=>e in s?H(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l,V=(s,e)=>{for(var l in e||(e={}))x.call(e,l)&&C(s,l,e[l]);if(B)for(var l of B(e))F.call(e,l)&&C(s,l,e[l]);return s};import{b as A,a as J,q as j,r as G,v as K,w as W,s as X,p as Y,x as Z,y as ee,A as te,B as ae}from"./element-plus@2.9.10_vue@3.5.14-e58ff881.js";import{_ as le}from"./index-d3432a72.js";import{v as oe}from"./@vue_runtime-dom@3.5.14-7e661aa4.js";import{p as re,_ as ne,d as ie}from"./add-or-update-b9ea94af.js";import{$ as _}from"./_t-d5227884.js";import{q as pe,D as se,b as me,y as i}from"./@vue_reactivity@3.5.14-2213b677.js";import{g as ue,a1 as de,o as m,c as ge,a as b,i as r,I as o,M as u,J as y,H as d,L as ce,n as fe}from"./@vue_runtime-core@3.5.14-81aa8ddd.js";import{U as p}from"./@vue_shared@3.5.14-94c2c668.js";import"./@vue-06e0889c.js";import"./lodash-es@4.17.21-e2bba480.js";import"./@vueuse_shared@9.13.0_vue@3.5.14-f0e16060.js";import"./@vueuse_core@9.13.0_vue@3.5.14-f98106e7.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.14-71698097.js";import"./@sxzz_popperjs-es@2.11.7-7c8154ca.js";import"./@ctrl_tinycolor@3.6.1-86a38320.js";import"./dayjs@1.11.13-c188735a.js";import"./@intlify_core-base@9.2.2-93f07292.js";import"./@intlify_message-compiler@9.2.2-228be59b.js";import"./@intlify_shared@9.2.2-29bf9385.js";import"./source-map@0.6.1-02de534d.js";import"./@intlify_devtools-if@9.2.2-22850edc.js";import"./async-validator@4.2.5-774c2804.js";import"./memoize-one@6.0.0-297ddbcb.js";import"./normalize-wheel-es@1.2.0-ed76fb12.js";import"./@floating-ui_dom@1.7.0-586b25a4.js";import"./@floating-ui_core@1.7.0-7ff28a0e.js";import"./@floating-ui_utils@0.2.9-746d277c.js";import"./index-6f2da097.js";import"./pinia@2.3.1_vue@3.5.14-4833dba6.js";import"./vue-demi@0.14.10_vue@3.5.14-71ba0ef2.js";import"./vue-router@4.5.1_vue@3.5.14-0f6ed4bc.js";import"./vue-i18n@9.2.2_vue@3.5.14-cf205787.js";import"./vue@3.5.14-dfc94670.js";import"./vue-cookies@1.8.3-f66fc855.js";import"./@element-plus_icons-vue@2.1.0_vue@3.5.14-0cb2d1d1.js";import"./axios@1.4.0-e76ab20a.js";import"./qs@6.11.2-13302ec8.js";import"./side-channel@1.1.0-f5737a48.js";import"./es-errors@1.3.0-c75f5a96.js";import"./object-inspect@1.13.4-95f40997.js";import"./crypto-js@4.1.1-4a4e7433.js";import"./side-channel-list@1.0.0-2bff8a80.js";import"./side-channel-map@1.0.1-ef12932d.js";import"./get-intrinsic@1.3.0-829e561c.js";import"./es-object-atoms@1.1.1-11ea1ab9.js";import"./math-intrinsics@1.1.0-9389030e.js";import"./gopd@1.2.0-f4eec54c.js";import"./es-define-property@1.0.1-88d30046.js";import"./has-symbols@1.1.0-1e41ff1e.js";import"./get-proto@1.0.1-a9f527cc.js";import"./dunder-proto@1.0.1-62f72dc7.js";import"./call-bind-apply-helpers@1.0.2-03b6ca7f.js";import"./function-bind@1.1.2-48f717dc.js";import"./hasown@2.0.2-f810df7c.js";import"./call-bound@1.0.4-15e4d619.js";import"./side-channel-weakmap@1.0.2-460ea971.js";import"./big.js@6.2.1-49ab783c.js";import"./dompurify@3.0.3-4985f3f0.js";import"./moment@2.29.4-4717c495.js";const _e={class:"page-hot-search"},be={class:"filter-container"},kt={__name:"index",setup(s){const e=pe({pageQuery:{pageSize:10,pageNum:1,title:null,content:null,status:null},pageVO:{list:[],total:0,pages:0},pageLoading:!0,searchParam:{},addOrUpdateVisible:!1}),{pageQuery:l,pageVO:$,pageLoading:O,addOrUpdateVisible:T}=se(e);ue(()=>{c()});const c=()=>{e.pageLoading=!0,re(V(V({},e.pageQuery),e.searchParam)).then(n=>{e.pageVO=n,e.pageLoading=!1})},h=me(),k=n=>{e.addOrUpdateVisible=!0,fe(()=>{h.value.init(n)})},w=n=>{A.confirm(_("table.sureToDelete"),_("table.tips"),{confirmButtonText:_("table.confirm"),cancelButtonText:_("table.cancel"),type:"warning"}).then(()=>D(n))},D=n=>{ie(n).then(()=>{J({message:_("table.actionSuccess"),type:"success",duration:1500,onClose:()=>c()})})},I=()=>{e.pageQuery.pageNum=1,e.pageQuery.title=e.pageQuery.title||null,e.pageQuery.content=e.pageQuery.content||null,e.pageQuery.status=e.pageQuery.status||null,c()},L=()=>{e.pageQuery.title=null,e.pageQuery.content=null,e.pageQuery.status=null};return(n,t)=>{const Q=j,v=G,E=K,N=W,f=X,q=Y,g=Z,U=ee,M=te,P=le,S=de("permission"),R=ae;return m(),ge("div",_e,[b("div",be,[r(q,{inline:!0,model:i(l),class:"demo-form-inline"},{default:o(()=>[r(v,{label:"热搜标题"},{default:o(()=>[r(Q,{modelValue:i(l).title,"onUpdate:modelValue":t[0]||(t[0]=a=>i(l).title=a),placeholder:"热搜标题"},null,8,["modelValue"])]),_:1}),r(v,{label:"热搜内容"},{default:o(()=>[r(Q,{modelValue:i(l).content,"onUpdate:modelValue":t[1]||(t[1]=a=>i(l).content=a),placeholder:"热搜内容"},null,8,["modelValue"])]),_:1}),r(v,{label:"启用状态"},{default:o(()=>[r(N,{modelValue:i(l).status,"onUpdate:modelValue":t[2]||(t[2]=a=>i(l).status=a),placeholder:"启用状态",clearable:""},{default:o(()=>[r(E,{label:"启用",value:"1"}),r(E,{label:"未启用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),r(v,null,{default:o(()=>[r(f,{type:"primary",onClick:t[3]||(t[3]=a=>I())},{default:o(()=>t[10]||(t[10]=[u(" 查询 ")])),_:1,__:[10]}),r(f,{onClick:t[4]||(t[4]=a=>L())},{default:o(()=>t[11]||(t[11]=[u(" 清空 ")])),_:1,__:[11]})]),_:1})]),_:1},8,["model"]),y((m(),d(f,{type:"primary",class:"filter-item",onClick:t[5]||(t[5]=a=>k())},{default:o(()=>[u(p(n.$t("table.create")),1)]),_:1})),[[S,["platform:hotSearch:save"]]])]),y((m(),d(M,{data:i($).list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:o(()=>[r(g,{label:n.$t("platform.hotSearch.title"),prop:"title",align:"center"},{default:o(({row:a})=>[b("span",null,p(a.title),1)]),_:1},8,["label"]),r(g,{label:n.$t("platform.hotSearch.content"),prop:"content",align:"center"},{default:o(({row:a})=>[b("span",null,p(a.content),1)]),_:1},8,["label"]),r(g,{label:n.$t("platform.hotSearch.createDate"),prop:"createTime",align:"center"},{default:o(({row:a})=>[b("span",null,p(a.createTime),1)]),_:1},8,["label"]),r(g,{label:n.$t("platform.hotSearch.seq"),prop:"seq",align:"center"},{default:o(({row:a})=>[b("span",null,p(a.seq),1)]),_:1},8,["label"]),r(g,{label:n.$t("platform.hotSearch.status"),prop:"status",align:"center"},{default:o(({row:a})=>[a.status===0?(m(),d(U,{key:0,type:"danger"},{default:o(()=>t[12]||(t[12]=[u(p("未启用"))])),_:1,__:[12]})):(m(),d(U,{key:1},{default:o(()=>t[13]||(t[13]=[u(p("启用"))])),_:1,__:[13]}))]),_:1},8,["label"]),r(g,{label:n.$t("table.actions"),align:"center",width:"230","class-name":"small-padding fixed-width"},{default:o(({row:a})=>[y((m(),d(f,{link:"",type:"primary",onClick:z=>k(a.hotSearchId)},{default:o(()=>[u(p(n.$t("table.edit")),1)]),_:2},1032,["onClick"])),[[S,["platform:hotSearch:update"]]]),y((m(),d(f,{link:"",type:"primary",onClick:z=>w(a.hotSearchId)},{default:o(()=>[u(p(n.$t("table.delete")),1)]),_:2},1032,["onClick"])),[[S,["platform:hotSearch:delete"]]])]),_:1},8,["label"])]),_:1},8,["data"])),[[R,i(O)]]),y(r(P,{page:i(l).pageNum,"onUpdate:page":t[6]||(t[6]=a=>i(l).pageNum=a),limit:i(l).pageSize,"onUpdate:limit":t[7]||(t[7]=a=>i(l).pageSize=a),total:i($).total,onPagination:t[8]||(t[8]=a=>c())},null,8,["page","limit","total"]),[[oe,i($).total>0]]),i(T)?(m(),d(ne,{key:0,ref_key:"addOrUpdateRef",ref:h,onRefreshDataList:t[9]||(t[9]=a=>c())},null,512)):ce("",!0)])}}};export{kt as default};
