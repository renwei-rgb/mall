var F=Object.defineProperty;var O=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var w=(m,a,n)=>a in m?F(m,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[a]=n,V=(m,a)=>{for(var n in a||(a={}))J.call(a,n)&&w(m,n,a[n]);if(O)for(var n of O(a))j.call(a,n)&&w(m,n,a[n]);return m};import{q as G,r as K,n as W,s as X,p as Y,x as Z,y as tt,A as et,B as ot}from"./element-plus@2.9.10_vue@3.5.14-e58ff881.js";import{_ as at}from"./index-d3432a72.js";import{_ as it}from"./index-36ae634a.js";import{v as nt}from"./@vue_runtime-dom@3.5.14-7e661aa4.js";import{m as pt}from"./shop-d0e49488.js";import rt from"./add-or-update-f7b67681.js";import lt from"./account-manage-06beac8d.js";import{q as mt,D as st,b as C,y as p}from"./@vue_reactivity@3.5.14-2213b677.js";import{g as dt,$ as ut,a1 as _t,o as r,c as gt,a as g,i,I as o,J as y,H as l,M as u,L as _,n as E}from"./@vue_runtime-core@3.5.14-81aa8ddd.js";import{U as x}from"./@vue_shared@3.5.14-94c2c668.js";import"./@vue-06e0889c.js";import"./lodash-es@4.17.21-e2bba480.js";import"./@vueuse_shared@9.13.0_vue@3.5.14-f0e16060.js";import"./@vueuse_core@9.13.0_vue@3.5.14-f98106e7.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.14-71698097.js";import"./@sxzz_popperjs-es@2.11.7-7c8154ca.js";import"./@ctrl_tinycolor@3.6.1-86a38320.js";import"./dayjs@1.11.13-c188735a.js";import"./@intlify_core-base@9.2.2-93f07292.js";import"./@intlify_message-compiler@9.2.2-228be59b.js";import"./@intlify_shared@9.2.2-29bf9385.js";import"./source-map@0.6.1-02de534d.js";import"./@intlify_devtools-if@9.2.2-22850edc.js";import"./async-validator@4.2.5-774c2804.js";import"./memoize-one@6.0.0-297ddbcb.js";import"./normalize-wheel-es@1.2.0-ed76fb12.js";import"./@floating-ui_dom@1.7.0-586b25a4.js";import"./@floating-ui_core@1.7.0-7ff28a0e.js";import"./@floating-ui_utils@0.2.9-746d277c.js";import"./index-6f2da097.js";import"./pinia@2.3.1_vue@3.5.14-4833dba6.js";import"./vue-demi@0.14.10_vue@3.5.14-71ba0ef2.js";import"./vue-router@4.5.1_vue@3.5.14-0f6ed4bc.js";import"./vue-i18n@9.2.2_vue@3.5.14-cf205787.js";import"./vue@3.5.14-dfc94670.js";import"./vue-cookies@1.8.3-f66fc855.js";import"./@element-plus_icons-vue@2.1.0_vue@3.5.14-0cb2d1d1.js";import"./axios@1.4.0-e76ab20a.js";import"./qs@6.11.2-13302ec8.js";import"./side-channel@1.1.0-f5737a48.js";import"./es-errors@1.3.0-c75f5a96.js";import"./object-inspect@1.13.4-95f40997.js";import"./crypto-js@4.1.1-4a4e7433.js";import"./side-channel-list@1.0.0-2bff8a80.js";import"./side-channel-map@1.0.1-ef12932d.js";import"./get-intrinsic@1.3.0-829e561c.js";import"./es-object-atoms@1.1.1-11ea1ab9.js";import"./math-intrinsics@1.1.0-9389030e.js";import"./gopd@1.2.0-f4eec54c.js";import"./es-define-property@1.0.1-88d30046.js";import"./has-symbols@1.1.0-1e41ff1e.js";import"./get-proto@1.0.1-a9f527cc.js";import"./dunder-proto@1.0.1-62f72dc7.js";import"./call-bind-apply-helpers@1.0.2-03b6ca7f.js";import"./function-bind@1.1.2-48f717dc.js";import"./hasown@2.0.2-f810df7c.js";import"./call-bound@1.0.4-15e4d619.js";import"./side-channel-weakmap@1.0.2-460ea971.js";import"./big.js@6.2.1-49ab783c.js";import"./dompurify@3.0.3-4985f3f0.js";import"./moment@2.29.4-4717c495.js";import"./index-f854da1e.js";import"./_t-d5227884.js";const ft={class:"page-shop-manage"},ct={class:"filter-container"},yt={style:{width:"100px",height:"100px",overflow:"hidden",margin:"auto"}},we={__name:"index",setup(m){const a=mt({pageQuery:{pageSize:10,pageNum:1},searchParam:{shopName:"",noticeMobile:""},pageVO:{list:[],total:0,pages:0},pageLoading:!0,addOrUpdateVisible:!1,accountManageVisible:!1}),{pageQuery:n,searchParam:b,pageVO:v,pageLoading:I,addOrUpdateVisible:L,accountManageVisible:M}=st(a);dt(()=>{f()});const f=()=>{a.pageLoading=!0,pt(V(V({},a.pageQuery),a.searchParam)).then(s=>{a.pageVO=s,a.pageLoading=!1})},h=C(),$=s=>{a.addOrUpdateVisible=!0,E(()=>{h.value.init(s)})},U=C(),D=s=>{a.accountManageVisible=!0,E(()=>{U.value.init(s)})};return(s,t)=>{const R=G,N=K,B=ut("Search"),P=W,k=X,T=Y,d=Z,c=tt,z=it,H=et,Q=at,S=_t("permission"),q=ot;return r(),gt("div",ft,[g("div",ct,[i(T,{inline:!0,model:p(b),class:"demo-form-inline"},{default:o(()=>[i(N,{label:"店铺名称"},{default:o(()=>[i(R,{modelValue:p(b).shopName,"onUpdate:modelValue":t[0]||(t[0]=e=>p(b).shopName=e),placeholder:"店铺名称"},null,8,["modelValue"])]),_:1}),i(N,null,{default:o(()=>[i(k,{type:"primary",onClick:t[1]||(t[1]=e=>f())},{default:o(()=>[i(P,null,{default:o(()=>[i(B)]),_:1}),t[7]||(t[7]=g("span",null,"查询",-1))]),_:1,__:[7]})]),_:1})]),_:1},8,["model"])]),y((r(),l(H,{data:p(v).list,border:"",stripe:"",fit:"","row-key":"imgId","highlight-current-row":"",style:{width:"100%"}},{default:o(()=>[i(d,{label:"店铺名称",prop:"",align:"center"},{default:o(({row:e})=>[g("span",null,x(e.shopName),1)]),_:1}),i(d,{label:"店铺类型",prop:"type",align:"center",width:"120px"},{default:o(({row:e})=>[e.type===1?(r(),l(c,{key:0,type:"success"},{default:o(()=>t[8]||(t[8]=[u(" 自营店 ")])),_:1,__:[8]})):_("",!0),e.type===2?(r(),l(c,{key:1},{default:o(()=>t[9]||(t[9]=[u(" 普通店 ")])),_:1,__:[9]})):_("",!0)]),_:1}),i(d,{label:"店铺logo",prop:"imgUrl",align:"center",width:"200px"},{default:o(({row:e})=>[g("div",yt,[i(z,{src:e.shopLogo},null,8,["src"])])]),_:1}),i(d,{label:"店铺简介",prop:"",align:"center"},{default:o(({row:e})=>[g("span",null,x(e.intro),1)]),_:1}),i(d,{label:"申请时间",prop:"",align:"center"},{default:o(({row:e})=>[g("span",null,x(e.createTime),1)]),_:1}),i(d,{label:"店铺状态",prop:"shopStatus",align:"center",width:"120px"},{default:o(({row:e})=>[e.shopStatus===-1?(r(),l(c,{key:0,type:"danger"},{default:o(()=>t[10]||(t[10]=[u(" 未开通 ")])),_:1,__:[10]})):_("",!0),e.shopStatus===0?(r(),l(c,{key:1,type:"danger"},{default:o(()=>t[11]||(t[11]=[u(" 停业中 ")])),_:1,__:[11]})):_("",!0),e.shopStatus===1?(r(),l(c,{key:2,type:"success"},{default:o(()=>t[12]||(t[12]=[u(" 营业中 ")])),_:1,__:[12]})):_("",!0)]),_:1}),i(d,{label:s.$t("table.actions"),align:"center","class-name":"small-padding fixed-width"},{default:o(({row:e})=>[y((r(),l(k,{type:"primary",link:"",onClick:A=>$(e.shopId)},{default:o(()=>t[13]||(t[13]=[u(" 查看 ")])),_:2,__:[13]},1032,["onClick"])),[[S,["multishop:indexImg:update"]]]),y((r(),l(k,{type:"primary",link:"",onClick:A=>D(e.shopId)},{default:o(()=>t[14]||(t[14]=[u(" 账号管理 ")])),_:2,__:[14]},1032,["onClick"])),[[S,["multishop:indexImg:update"]]])]),_:1},8,["label"])]),_:1},8,["data"])),[[q,p(I)]]),y(i(Q,{page:p(n).pageNum,"onUpdate:page":t[2]||(t[2]=e=>p(n).pageNum=e),limit:p(n).pageSize,"onUpdate:limit":t[3]||(t[3]=e=>p(n).pageSize=e),total:p(v).total,onPagination:t[4]||(t[4]=e=>f())},null,8,["page","limit","total"]),[[nt,p(v).total>0]]),p(L)?(r(),l(rt,{key:0,ref_key:"addOrUpdateRef",ref:h,onRefreshDataList:t[5]||(t[5]=e=>f())},null,512)):_("",!0),p(M)?(r(),l(lt,{key:1,ref_key:"accountManageRef",ref:U,onRefreshDataList:t[6]||(t[6]=e=>f())},null,512)):_("",!0)])}}};export{we as default};
