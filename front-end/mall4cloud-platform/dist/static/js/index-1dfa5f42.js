var M=Object.defineProperty;var U=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var C=(n,t,a)=>t in n?M(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,$=(n,t)=>{for(var a in t||(t={}))P.call(t,a)&&C(n,a,t[a]);if(U)for(var a of U(t))R.call(t,a)&&C(n,a,t[a]);return n};import{b as z,a as A,q as H,r as Q,s as q,p as F,x as J,A as j,B as G}from"./element-plus@2.9.10_vue@3.5.14-e58ff881.js";import{_ as K}from"./index-d3432a72.js";import{v as W}from"./@vue_runtime-dom@3.5.14-7e661aa4.js";import{p as X,A as Y,d as Z}from"./add-or-update-7597f587.js";import{$ as f}from"./_t-d5227884.js";import{_ as ee}from"./index-6f2da097.js";import{q as te,D as ae,b as oe,y as l}from"./@vue_reactivity@3.5.14-2213b677.js";import{g as re,a1 as ie,o as d,c as le,a as u,i as p,I as i,M as y,J as g,H as _,L as pe,n as ne}from"./@vue_runtime-core@3.5.14-81aa8ddd.js";import{U as m}from"./@vue_shared@3.5.14-94c2c668.js";import"./@vue-06e0889c.js";import"./lodash-es@4.17.21-e2bba480.js";import"./@vueuse_shared@9.13.0_vue@3.5.14-f0e16060.js";import"./@vueuse_core@9.13.0_vue@3.5.14-f98106e7.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.14-71698097.js";import"./@sxzz_popperjs-es@2.11.7-7c8154ca.js";import"./@ctrl_tinycolor@3.6.1-86a38320.js";import"./dayjs@1.11.13-c188735a.js";import"./@intlify_core-base@9.2.2-93f07292.js";import"./@intlify_message-compiler@9.2.2-228be59b.js";import"./@intlify_shared@9.2.2-29bf9385.js";import"./source-map@0.6.1-02de534d.js";import"./@intlify_devtools-if@9.2.2-22850edc.js";import"./async-validator@4.2.5-774c2804.js";import"./memoize-one@6.0.0-297ddbcb.js";import"./normalize-wheel-es@1.2.0-ed76fb12.js";import"./@floating-ui_dom@1.7.0-586b25a4.js";import"./@floating-ui_core@1.7.0-7ff28a0e.js";import"./@floating-ui_utils@0.2.9-746d277c.js";import"./index-17e7a6f7.js";import"./category-2962f30d.js";import"./index-e4ea1e4c.js";import"./pinia@2.3.1_vue@3.5.14-4833dba6.js";import"./vue-demi@0.14.10_vue@3.5.14-71ba0ef2.js";import"./vue-router@4.5.1_vue@3.5.14-0f6ed4bc.js";import"./vue-i18n@9.2.2_vue@3.5.14-cf205787.js";import"./vue@3.5.14-dfc94670.js";import"./vue-cookies@1.8.3-f66fc855.js";import"./@element-plus_icons-vue@2.1.0_vue@3.5.14-0cb2d1d1.js";import"./axios@1.4.0-e76ab20a.js";import"./qs@6.11.2-13302ec8.js";import"./side-channel@1.1.0-f5737a48.js";import"./es-errors@1.3.0-c75f5a96.js";import"./object-inspect@1.13.4-95f40997.js";import"./crypto-js@4.1.1-4a4e7433.js";import"./side-channel-list@1.0.0-2bff8a80.js";import"./side-channel-map@1.0.1-ef12932d.js";import"./get-intrinsic@1.3.0-829e561c.js";import"./es-object-atoms@1.1.1-11ea1ab9.js";import"./math-intrinsics@1.1.0-9389030e.js";import"./gopd@1.2.0-f4eec54c.js";import"./es-define-property@1.0.1-88d30046.js";import"./has-symbols@1.1.0-1e41ff1e.js";import"./get-proto@1.0.1-a9f527cc.js";import"./dunder-proto@1.0.1-62f72dc7.js";import"./call-bind-apply-helpers@1.0.2-03b6ca7f.js";import"./function-bind@1.1.2-48f717dc.js";import"./hasown@2.0.2-f810df7c.js";import"./call-bound@1.0.4-15e4d619.js";import"./side-channel-weakmap@1.0.2-460ea971.js";import"./big.js@6.2.1-49ab783c.js";import"./dompurify@3.0.3-4985f3f0.js";import"./moment@2.29.4-4717c495.js";const me={class:"page-product-attr"},se={class:"filter-container"},de={__name:"index",setup(n){const t=te({pageQuery:{pageSize:10,pageNum:1,name:void 0},pageVO:{list:[],total:0,pages:0},pageLoading:!0,searchParam:{},addOrUpdateVisible:!1,options:[{value:"销售属性",label:0},{value:"基本属性",label:1}]}),{pageQuery:a,pageVO:v,pageLoading:O,addOrUpdateVisible:E}=ae(t);re(()=>{c()});const c=()=>{t.pageLoading=!0,X($($({},t.pageQuery),t.searchParam)).then(o=>{t.pageVO=o,t.pageLoading=!1})},k=oe(),V=o=>{t.addOrUpdateVisible=!0,ne(()=>{k.value.init(o)})},I=o=>{z.confirm(f("table.sureToDelete"),f("table.tips"),{confirmButtonText:f("table.confirm"),cancelButtonText:f("table.cancel"),type:"warning"}).then(()=>w(o))},w=o=>{Z(o).then(()=>{A({message:f("table.actionSuccess"),type:"success",duration:1500,onClose:()=>c()})})};return(o,r)=>{const D=H,B=Q,b=q,L=F,s=J,N=j,h=K,T=ie("permission"),x=G;return d(),le("div",me,[u("div",se,[p(L,{inline:!0,model:l(a),class:"demo-form-inline"},{default:i(()=>[p(B,{label:"属性名称"},{default:i(()=>[p(D,{modelValue:l(a).name,"onUpdate:modelValue":r[0]||(r[0]=e=>l(a).name=e),placeholder:"属性名称"},null,8,["modelValue"])]),_:1}),p(B,null,{default:i(()=>[p(b,{type:"primary",onClick:r[1]||(r[1]=e=>c())},{default:i(()=>r[7]||(r[7]=[y(" 查询 ")])),_:1,__:[7]})]),_:1})]),_:1},8,["model"]),g((d(),_(b,{type:"primary",class:"filter-item",onClick:r[2]||(r[2]=e=>V())},{default:i(()=>[y(m(o.$t("table.create")),1)]),_:1})),[[T,["product:attr:save"]]])]),g((d(),_(N,{data:l(v).list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:i(()=>[p(s,{label:o.$t("table.createTime"),prop:"createTime",align:"center"},{default:i(({row:e})=>[u("span",null,m(e.createTime),1)]),_:1},8,["label"]),p(s,{label:o.$t("table.updateTime"),prop:"updateTime",align:"center"},{default:i(({row:e})=>[u("span",null,m(e.updateTime),1)]),_:1},8,["label"]),p(s,{label:o.$t("product.attr.name"),prop:"name",align:"center"},{default:i(({row:e})=>[u("span",null,m(e.name),1)]),_:1},8,["label"]),p(s,{label:o.$t("product.attr.searchType"),prop:"searchType",align:"center"},{default:i(({row:e})=>[u("span",null,m(["否","是"][e.searchType]),1)]),_:1},8,["label"]),p(s,{label:o.$t("product.attr.attrType"),prop:"attrType",align:"center"},{default:i(({row:e})=>[u("span",null,m(["销售属性","基本属性"][e.attrType]),1)]),_:1},8,["label"]),p(s,{label:o.$t("table.actions"),align:"center",width:"230","class-name":"small-padding fixed-width"},{default:i(({row:e})=>[g((d(),_(b,{type:"primary",link:"",onClick:S=>V(e.attrId)},{default:i(()=>[y(m(o.$t("table.edit")),1)]),_:2},1032,["onClick"])),[[T,["product:attr:update"]]]),g((d(),_(b,{type:"primary",link:"",onClick:S=>I(e.attrId)},{default:i(()=>[y(m(o.$t("table.delete")),1)]),_:2},1032,["onClick"])),[[T,["product:attr:delete"]]])]),_:1},8,["label"])]),_:1},8,["data"])),[[x,l(O)]]),g(p(h,{page:l(a).pageNum,"onUpdate:page":r[3]||(r[3]=e=>l(a).pageNum=e),limit:l(a).pageSize,"onUpdate:limit":r[4]||(r[4]=e=>l(a).pageSize=e),total:l(v).total,onPagination:r[5]||(r[5]=e=>c())},null,8,["page","limit","total"]),[[W,l(v).total>0]]),l(E)?(d(),_(Y,{key:0,ref_key:"addOrUpdateRef",ref:k,onRefreshDataList:r[6]||(r[6]=e=>c())},null,512)):pe("",!0)])}}},$t=ee(de,[["__scopeId","data-v-86f91ed9"]]);export{$t as default};
