var z=Object.defineProperty;var V=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var D=(u,a,n)=>a in u?z(u,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[a]=n,T=(u,a)=>{for(var n in a||(a={}))H.call(a,n)&&D(u,n,a[n]);if(V)for(var n of V(a))Q.call(a,n)&&D(u,n,a[n]);return u};import{b as I,a as S,s as x,x as j,y as A,A as J,B as F}from"./element-plus@2.9.10_vue@3.5.14-e58ff881.js";import{_ as G}from"./index-d3432a72.js";import{v as K}from"./@vue_runtime-dom@3.5.14-7e661aa4.js";import{p as W,_ as X,d as Y,e as Z}from"./add-or-update-d4605b12.js";import{$ as _}from"./_t-d5227884.js";import{_ as ee}from"./index-6f2da097.js";import{q as te,D as ae,b as re,y as p}from"./@vue_reactivity@3.5.14-2213b677.js";import{g as oe,a1 as ie,o as s,c as ne,a as g,J as y,H as c,I as r,M as b,i as d,L as U,n as le}from"./@vue_runtime-core@3.5.14-81aa8ddd.js";import{U as i}from"./@vue_shared@3.5.14-94c2c668.js";import"./@vue-06e0889c.js";import"./lodash-es@4.17.21-e2bba480.js";import"./@vueuse_shared@9.13.0_vue@3.5.14-f0e16060.js";import"./@vueuse_core@9.13.0_vue@3.5.14-f98106e7.js";import"./@element-plus_icons-vue@2.3.1_vue@3.5.14-71698097.js";import"./@sxzz_popperjs-es@2.11.7-7c8154ca.js";import"./@ctrl_tinycolor@3.6.1-86a38320.js";import"./dayjs@1.11.13-c188735a.js";import"./@intlify_core-base@9.2.2-93f07292.js";import"./@intlify_message-compiler@9.2.2-228be59b.js";import"./@intlify_shared@9.2.2-29bf9385.js";import"./source-map@0.6.1-02de534d.js";import"./@intlify_devtools-if@9.2.2-22850edc.js";import"./async-validator@4.2.5-774c2804.js";import"./memoize-one@6.0.0-297ddbcb.js";import"./normalize-wheel-es@1.2.0-ed76fb12.js";import"./@floating-ui_dom@1.7.0-586b25a4.js";import"./@floating-ui_core@1.7.0-7ff28a0e.js";import"./@floating-ui_utils@0.2.9-746d277c.js";import"./index-17e7a6f7.js";import"./category-2962f30d.js";import"./index-e4ea1e4c.js";import"./index-f854da1e.js";import"./big.js@6.2.1-49ab783c.js";import"./pinia@2.3.1_vue@3.5.14-4833dba6.js";import"./vue-demi@0.14.10_vue@3.5.14-71ba0ef2.js";import"./vue-router@4.5.1_vue@3.5.14-0f6ed4bc.js";import"./vue-i18n@9.2.2_vue@3.5.14-cf205787.js";import"./vue@3.5.14-dfc94670.js";import"./vue-cookies@1.8.3-f66fc855.js";import"./@element-plus_icons-vue@2.1.0_vue@3.5.14-0cb2d1d1.js";import"./axios@1.4.0-e76ab20a.js";import"./qs@6.11.2-13302ec8.js";import"./side-channel@1.1.0-f5737a48.js";import"./es-errors@1.3.0-c75f5a96.js";import"./object-inspect@1.13.4-95f40997.js";import"./crypto-js@4.1.1-4a4e7433.js";import"./side-channel-list@1.0.0-2bff8a80.js";import"./side-channel-map@1.0.1-ef12932d.js";import"./get-intrinsic@1.3.0-829e561c.js";import"./es-object-atoms@1.1.1-11ea1ab9.js";import"./math-intrinsics@1.1.0-9389030e.js";import"./gopd@1.2.0-f4eec54c.js";import"./es-define-property@1.0.1-88d30046.js";import"./has-symbols@1.1.0-1e41ff1e.js";import"./get-proto@1.0.1-a9f527cc.js";import"./dunder-proto@1.0.1-62f72dc7.js";import"./call-bind-apply-helpers@1.0.2-03b6ca7f.js";import"./function-bind@1.1.2-48f717dc.js";import"./hasown@2.0.2-f810df7c.js";import"./call-bound@1.0.4-15e4d619.js";import"./side-channel-weakmap@1.0.2-460ea971.js";import"./dompurify@3.0.3-4985f3f0.js";import"./moment@2.29.4-4717c495.js";const pe={class:"page-product-brand"},se={class:"filter-container"},de=["src"],me={__name:"index",setup(u){const a=te({resourcesUrl:"http://192.168.1.80:9000/mall4cloud",pageQuery:{pageSize:10,pageNum:1},pageVO:{list:[],total:0,pages:0},pageLoading:!0,searchParam:{},addOrUpdateVisible:!1}),{resourcesUrl:n,pageQuery:$,pageVO:k,pageLoading:E,addOrUpdateVisible:N}=ae(a);oe(()=>{f()});const f=()=>{a.pageLoading=!0,W(T(T({},a.pageQuery),a.searchParam)).then(t=>{a.pageVO=t,a.pageLoading=!1})},C=re(),O=t=>{a.addOrUpdateVisible=!0,le(()=>{C.value.init(t)})},q=t=>{I.confirm(_("table.sureToDelete"),_("table.tips"),{confirmButtonText:_("table.confirm"),cancelButtonText:_("table.cancel"),type:"warning"}).then(()=>w(t))},w=t=>{Y(t).then(()=>{S({message:_("table.actionSuccess"),type:"success",duration:1500,onClose:()=>f()})})},B=(t,o)=>{const m={};m.brandId=t,m.status=o===0?1:0,I.confirm(o===1?"是否确认下架当前品牌?":"是否确认上架当前品牌?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Z(m).then(l=>{S({message:l||"操作成功",type:l?"error":"success",duration:1500,onClose:()=>f()})})}).catch(()=>{})};return(t,o)=>{const m=x,l=j,L=A,M=J,P=G,v=ie("permission"),R=F;return s(),ne("div",pe,[g("div",se,[y((s(),c(m,{type:"primary",class:"filter-item",onClick:o[0]||(o[0]=e=>O())},{default:r(()=>[b(i(t.$t("table.create")),1)]),_:1})),[[v,["product:brand:save"]]])]),y((s(),c(M,{data:p(k).list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:r(()=>[d(l,{label:t.$t("table.createTime"),prop:"createTime",align:"center"},{default:r(({row:e})=>[g("span",null,i(e.createTime),1)]),_:1},8,["label"]),d(l,{label:t.$t("table.updateTime"),prop:"updateTime",align:"center"},{default:r(({row:e})=>[g("span",null,i(e.updateTime),1)]),_:1},8,["label"]),d(l,{label:t.$t("product.brand.name"),prop:"name",align:"center"},{default:r(({row:e})=>[g("span",null,i(e.name),1)]),_:1},8,["label"]),d(l,{label:t.$t("product.brand.desc"),prop:"desc",align:"center"},{default:r(({row:e})=>[g("span",null,i(e.desc),1)]),_:1},8,["label"]),d(l,{label:t.$t("product.brand.imgUrl"),prop:"imgUrl",align:"center",width:"200"},{default:r(({row:e})=>[g("img",{src:e.imgUrl.indexOf("http")===-1?p(n)+e.imgUrl:e.imgUrl,class:"brand-logo-img"},null,8,de)]),_:1},8,["label"]),d(l,{label:t.$t("product.brand.firstLetter"),prop:"firstLetter",align:"center",width:"100"},{default:r(({row:e})=>[g("span",null,i(e.firstLetter),1)]),_:1},8,["label"]),d(l,{label:t.$t("product.brand.seq"),prop:"seq",align:"center",width:"100"},{default:r(({row:e})=>[g("span",null,i(e.seq),1)]),_:1},8,["label"]),d(l,{label:t.$t("product.brand.status"),prop:"status",align:"center",width:"150"},{default:r(({row:e})=>[e.status===0?(s(),c(L,{key:0,type:"danger"},{default:r(()=>[b(i(t.$t("product.category.offline")),1)]),_:1})):(s(),c(L,{key:1},{default:r(()=>[b(i(t.$t("product.category.normal")),1)]),_:1}))]),_:1},8,["label"]),d(l,{label:t.$t("table.actions"),align:"center",width:"230","class-name":"small-padding fixed-width"},{default:r(({row:e})=>[y((s(),c(m,{type:"primary",link:"",onClick:h=>O(e.brandId)},{default:r(()=>[b(i(t.$t("table.edit")),1)]),_:2},1032,["onClick"])),[[v,["product:brand:update"]]]),e.status===0?(s(),c(m,{key:0,type:"primary",link:"",onClick:h=>B(e.brandId,e.status)},{default:r(()=>[b(i(t.$t("action.putOnShelf")),1)]),_:2},1032,["onClick"])):U("",!0),e.status===1?(s(),c(m,{key:1,type:"primary",link:"",onClick:h=>B(e.brandId,e.status)},{default:r(()=>[b(i(t.$t("action.offShelf")),1)]),_:2},1032,["onClick"])):U("",!0),y((s(),c(m,{type:"primary",link:"",onClick:h=>q(e.brandId)},{default:r(()=>[b(i(t.$t("table.delete")),1)]),_:2},1032,["onClick"])),[[v,["product:brand:delete"]]])]),_:1},8,["label"])]),_:1},8,["data"])),[[R,p(E)]]),y(d(P,{page:p($).pageNum,"onUpdate:page":o[1]||(o[1]=e=>p($).pageNum=e),limit:p($).pageSize,"onUpdate:limit":o[2]||(o[2]=e=>p($).pageSize=e),total:p(k).total,onPagination:o[3]||(o[3]=e=>f())},null,8,["page","limit","total"]),[[K,p(k).total>0]]),p(N)?(s(),c(X,{key:0,ref_key:"addOrUpdateRef",ref:C,onRefreshDataList:o[4]||(o[4]=e=>f())},null,512)):U("",!0)])}}},ht=ee(me,[["__scopeId","data-v-5464708f"]]);export{ht as default};
