import{q as B,G as F}from"./element-plus@2.9.10_vue@3.5.14-e58ff881.js";import{c as P}from"./category-2962f30d.js";import{_ as E}from"./index-6f2da097.js";import{q as N,D as R,y as t,a as q}from"./@vue_reactivity@3.5.14-2213b677.js";import{o as r,H as w,I as z,a as l,i as h,c as n,F as f,X as v,L as p}from"./@vue_runtime-core@3.5.14-81aa8ddd.js";import{s as u,U as d}from"./@vue_shared@3.5.14-94c2c668.js";const G={class:"prod-category clearfix"},H={class:"category"},T={class:"category-box"},X={class:"category-list"},j=["onClick"],A={key:0,class:"category-box"},J={class:"category-list"},K=["onClick"],M={key:1,class:"category-box"},O={class:"category-list"},Q=["onClick"],W={class:"current-selected"},Y={class:"blod"},Z={class:"select-item"},ee={key:0,class:"select-item"},te={key:1,class:"select-item"},se={class:"read-rule"},ae={__name:"index",emits:"getCategorySelected",setup(oe,{expose:k,emit:I}){const V=I,e=N({visible:!1,allDataList:[],firstCategorys:{id:0,name:"",dataList:[]},secondCategorys:{id:0,name:"",dataList:[]},threeCategorys:{id:0,name:"",dataList:[]},parentId:0,isCreateCategory:!1}),{visible:C,firstCategorys:c,secondCategorys:g,threeCategorys:y,isCreateCategory:_}=R(e),b=s=>{e.visible=!0,P().then(o=>{e.allDataList=o,e.firstCategorys.dataList=e.allDataList.filter(i=>i.level===0)}),e.isCreateCategory=!!(s&&s===1)},D=(s,o)=>{e.secondCategorys.dataList=e.allDataList.filter(i=>i.parentId===s),e.firstCategorys.name=e.firstCategorys.dataList[o].name,e.parentId=e.firstCategorys.id=s,e.secondCategorys.id=0,e.threeCategorys.id=0},$=(s,o)=>{e.threeCategorys.dataList=e.allDataList.filter(i=>i.parentId===s),e.parentId=e.secondCategorys.id=s,e.secondCategorys.name=e.secondCategorys.dataList[o].name,e.threeCategorys.id=0},x=(s,o)=>{e.isCreateCategory||(e.parentId=e.threeCategorys.id=s,e.threeCategorys.name=e.threeCategorys.dataList[o].name)},S=()=>{if(!e.isCreateCategory&&!e.threeCategorys.id||e.isCreateCategory&&!e.firstCategorys.id)return;const s=[];e.firstCategorys.id&&s.push(e.firstCategorys.name),e.secondCategorys.id&&s.push(e.secondCategorys.name),!e.isCreateCategory&&e.threeCategorys.id&&s.push(e.threeCategorys.name),V("getCategorySelected",s,e.parentId)};return k({init:b}),(s,o)=>{const i=B,U=F;return r(),w(U,{modelValue:t(C),"onUpdate:modelValue":o[3]||(o[3]=a=>q(C)?C.value=a:null),class:"component-category-selector",title:s.$t("components.selector.categorySelector"),"append-to-body":t(C),width:"1000px"},{default:z(()=>[l("div",G,[l("div",H,[l("div",T,[h(i,{modelValue:t(c).name,"onUpdate:modelValue":o[0]||(o[0]=a=>t(c).name=a),placeholder:s.$t("components.selector.chooseProdCateg"),disabled:!0},null,8,["modelValue","placeholder"]),l("ul",X,[(r(!0),n(f,null,v(t(c).dataList,(a,m)=>(r(),n("li",{key:a.categoryId,class:u(["category-item",a.categoryId==t(c).id?"active":""]),onClick:L=>D(a.categoryId,m)},d(a.name),11,j))),128))])]),t(c).id!=0?(r(),n("div",A,[h(i,{modelValue:t(g).name,"onUpdate:modelValue":o[1]||(o[1]=a=>t(g).name=a),placeholder:s.$t("components.selector.chooseProdCateg"),disabled:!0},null,8,["modelValue","placeholder"]),l("ul",J,[(r(!0),n(f,null,v(t(g).dataList,(a,m)=>(r(),n("li",{key:a.categoryId,class:u(["category-item",a.categoryId==t(g).id?"active":""]),onClick:L=>$(a.categoryId,m)},d(a.name),11,K))),128))])])):p("",!0),t(g).id!=0?(r(),n("div",M,[h(i,{modelValue:t(y).name,"onUpdate:modelValue":o[2]||(o[2]=a=>t(y).name=a),placeholder:s.$t("components.selector.chooseProdCateg"),disabled:!0},null,8,["modelValue","placeholder"]),l("ul",O,[(r(!0),n(f,null,v(t(y).dataList,(a,m)=>(r(),n("li",{key:a.categoryId,class:u(["category-item",[t(_)?"prohibit-sel":a.categoryId==t(y).id?"active":""]]),onClick:L=>x(a.categoryId,m)},d(a.name),11,Q))),128))])])):p("",!0)]),l("div",W,[l("span",Y,d(s.$t("components.selector.currCho"))+"：",1),l("span",Z,d(t(c).name),1),t(g).id?(r(),n("span",ee," >  "+d(t(g).name),1)):p("",!0),t(y).id?(r(),n("span",te," >  "+d(t(y).name),1)):p("",!0)]),l("div",se,[l("div",{class:u(["read-rule-txt",!t(_)&&t(y).id!=0||t(_)&&t(c).id!=0?"todo":""]),onClick:S},d(s.$t("components.selector.haveReadFol")),3)])])]),_:1},8,["modelValue","title","append-to-body"])}}},ge=E(ae,[["__scopeId","data-v-0a873795"]]);export{ge as _};
